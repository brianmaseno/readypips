# ğŸ¨ ADMIN DASHBOARD - SYSTEM ARCHITECTURE DIAGRAM

## Complete System Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     READYPIPS ADMIN DASHBOARD                      â”‚
â”‚                        Complete System v1.0                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

                          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                          â”‚   ADMIN      â”‚
                          â”‚   LOGIN      â”‚
                          â”‚   PAGE       â”‚
                          â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
                                 â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚   Email: password      â”‚
                    â”‚   (Credentials)        â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                 â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚  POST /api/admin/login         â”‚
                    â”‚  - Verify credentials         â”‚
                    â”‚  - Hash password check        â”‚
                    â”‚  - Generate JWT token         â”‚
                    â”‚  - Set HttpOnly cookie        â”‚
                    â”‚  - Log action                 â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                 â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚  ADMIN DASHBOARD               â”‚
                    â”‚  (Dashboard Router)            â”‚
                    â”‚  - Check token                 â”‚
                    â”‚  - Load admin profile          â”‚
                    â”‚  - Show sections based on role â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                 â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚                        â”‚                        â”‚
        â–¼                        â–¼                        â–¼
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚SIDEBAR  â”‚          â”‚DASHBOARD    â”‚          â”‚ COMPONENTS  â”‚
   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤          â”‚OVERVIEW     â”‚          â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
   â”‚â€¢ Admin  â”‚          â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤          â”‚â€¢ Overview    â”‚
   â”‚  Profileâ”‚          â”‚â€¢ Metrics    â”‚          â”‚â€¢ Users       â”‚
   â”‚â€¢ Menu   â”‚          â”‚â€¢ Charts     â”‚          â”‚â€¢ Subscriptions
   â”‚â€¢ Logout â”‚          â”‚â€¢ Stats      â”‚          â”‚â€¢ Tools       â”‚
   â”‚         â”‚          â”‚â€¢ Alerts     â”‚          â”‚â€¢ Analytics   â”‚
   â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚â€¢ Settings    â”‚
        â”‚                                        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚              â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚Navigate     â”‚  â”‚Fetch Data from   â”‚
        â”‚Sections     â”‚  â”‚API Endpoints     â”‚
        â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚                  â”‚
               â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚   API ENDPOINTS                    â”‚
        â”‚   (Authentication Required)        â”‚
        â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
        â”‚ GET /admin/dashboard/stats         â”‚
        â”‚ GET /admin/users                   â”‚
        â”‚ GET /admin/subscriptions           â”‚
        â”‚ GET /admin/tools                   â”‚
        â”‚ GET /admin/announcements           â”‚
        â”‚ POST /admin/email-campaigns        â”‚
        â”‚ PUT /admin/subscriptions           â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚   MIDDLEWARE CHAIN                 â”‚
        â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
        â”‚ 1. Extract token from header       â”‚
        â”‚ 2. Verify JWT signature            â”‚
        â”‚ 3. Fetch admin from database       â”‚
        â”‚ 4. Check if admin is active        â”‚
        â”‚ 5. Verify permission for action    â”‚
        â”‚ 6. Execute endpoint                â”‚
        â”‚ 7. Log action to audit trail       â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚   DATABASE OPERATIONS              â”‚
        â”‚   (MongoDB Collections)            â”‚
        â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
        â”‚ â†’ admins                           â”‚
        â”‚ â†’ users                            â”‚
        â”‚ â†’ subscriptions                    â”‚
        â”‚ â†’ tools                            â”‚
        â”‚ â†’ announcements                    â”‚
        â”‚ â†’ email_campaigns                  â”‚
        â”‚ â†’ admin_audit_logs                 â”‚
        â”‚ â†’ password_reset_tokens            â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚   RESPONSE SENT BACK               â”‚
        â”‚   (JSON Format)                    â”‚
        â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
        â”‚ â€¢ Status code (200, 400, 401, etc) â”‚
        â”‚ â€¢ Data payload                     â”‚
        â”‚ â€¢ Error messages                   â”‚
        â”‚ â€¢ Pagination info                  â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚   UI UPDATES                       â”‚
        â”‚   (React Components)               â”‚
        â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
        â”‚ â€¢ Display data                     â”‚
        â”‚ â€¢ Show charts                      â”‚
        â”‚ â€¢ Update tables                    â”‚
        â”‚ â€¢ Show loading states              â”‚
        â”‚ â€¢ Display errors                   â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Authentication & Authorization Flow

```
LOGIN ATTEMPT
     â”‚
     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Extract Email/Password  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Query: Find admin by email          â”‚
â”‚ Database: admins collection         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Admin Found?    â”‚
    â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”˜
         â”‚No      â”‚Yes
         â”‚        â”‚
         â–¼        â–¼
      âŒ        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
      Error     â”‚ Verify Password  â”‚
                â”‚ bcrypt.compare() â”‚
                â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”˜
                     â”‚No       â”‚Yes
                     â”‚         â”‚
                     â–¼         â–¼
                  âŒ           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                  Error        â”‚ Generate JWT Token   â”‚
                               â”‚ (7-day expiry)       â”‚
                               â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                      â”‚
                               â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                               â”‚ Set HttpOnly      â”‚
                               â”‚ Secure Cookie    â”‚
                               â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                      â”‚
                               â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                               â”‚ Update lastLogin    â”‚
                               â”‚ Record audit log    â”‚
                               â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                      â”‚
                               â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                               â”‚ Return JWT token    â”‚
                               â”‚ Redirect to         â”‚
                               â”‚ Dashboard          â”‚
                               â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                      âœ… SUCCESS

TOKEN VERIFICATION (On Protected Routes)
     â”‚
     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Extract JWT from:    â”‚
â”‚ â€¢ Header (Bearer)    â”‚
â”‚ â€¢ Cookie (HttpOnly)  â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Verify JWT Signature    â”‚
â”‚ Using: JWT_SECRET env   â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚Invalid   â”‚Valid
       â”‚          â”‚
       â–¼          â–¼
    âŒ        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    401       â”‚Decode JWT    â”‚
    Unauth    â”‚Extract admin â”‚
             â”‚ID from token â”‚
             â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚
             â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
             â”‚ Find admin by   â”‚
             â”‚ _id in DB       â”‚
             â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”˜
                    â”‚Not   â”‚Found
                    â”‚found â”‚
                    â”‚      â”‚
                    â–¼      â–¼
                 âŒ    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                 404   â”‚ Check: is active?â”‚
                       â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”˜
                              â”‚No     â”‚Yes
                              â”‚       â”‚
                              â–¼       â–¼
                           âŒ    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                           403   â”‚ Check Permission â”‚
                           Forbidâ”‚ For this action  â”‚
                                 â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”˜
                                        â”‚No     â”‚Yes
                                        â”‚       â”‚
                                        â–¼       â–¼
                                     âŒ    âœ…
                                     403   PROCEED
                                    Forbid
```

---

## Email Notification System

```
EVENT TRIGGERED
     â”‚
     â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
     â”‚                                          â”‚
     â–¼                                          â–¼
PASSWORD RESET REQUEST              SUBSCRIPTION CHANGED
     â”‚                                    â”‚
     â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                 â”œâ”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”
     â”‚                 â”‚                 â”‚     â”‚     â”‚      â”‚
     â–¼                 â–¼                 â–¼     â–¼     â–¼      â–¼
 NEW ADMIN      PASSWORD               RENEWED EXPIRING FAILED
 WELCOME        RESET                             SOON     PAY
     â”‚             â”‚                       â”‚       â”‚       â”‚
     â”‚             â”‚                       â””â”€â”€â”€â”¬â”€â”€â”€â”´â”€â”€â”€â”¬â”€â”€â”€â”˜
     â”‚             â”‚                           â”‚       â”‚
     â–¼             â–¼                           â–¼       â–¼
  â”Œâ”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”                  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”
  â”‚HTML â”‚      â”‚HTML  â”‚                  â”‚HTML    â”‚ â”‚HTMLâ”‚
  â”‚TEMP â”‚      â”‚TEMP  â”‚                  â”‚TEMP    â”‚ â”‚TMP â”‚
  â””â”€â”€â”¬â”€â”€â”˜      â””â”€â”€â”€â”¬â”€â”€â”˜                  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”˜ â””â”€â”¬â”€â”€â”˜
     â”‚             â”‚                          â”‚      â”‚
     â”‚             â”‚                          â”‚      â”‚
     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”˜
                   â”‚                          â”‚
                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                  â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚ Get Email Config:        â”‚
                    â”‚ SMTP_HOST                â”‚
                    â”‚ SMTP_PORT                â”‚
                    â”‚ SMTP_USER                â”‚
                    â”‚ SMTP_PASS                â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                  â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚ Create Nodemailer        â”‚
                    â”‚ Transport:               â”‚
                    â”‚ host: mail.smtp2go.com   â”‚
                    â”‚ port: 465                â”‚
                    â”‚ secure: true             â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                  â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚ Format Email:            â”‚
                    â”‚ â€¢ from: ReadyPips        â”‚
                    â”‚ â€¢ to: recipient         â”‚
                    â”‚ â€¢ subject: title        â”‚
                    â”‚ â€¢ html: template        â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                  â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚ Send via Gmail SMTP      â”‚
                    â”‚ briancreatives@gmail.com â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                  â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚ Log Result:              â”‚
                    â”‚ Success: âœ…              â”‚
                    â”‚ Failed: âŒ               â”‚
                    â”‚ Time: recorded           â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                  â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚ Record in Database:      â”‚
                    â”‚ â€¢ email_campaigns        â”‚
                    â”‚ â€¢ admin_audit_logs       â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Role-Based Access Control (RBAC)

```
                        REQUEST ARRIVES
                             â”‚
                             â–¼
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚ Verify JWT Token   â”‚
                    â”‚ Extract admin ID   â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚ Load Admin from DB â”‚
                    â”‚ Get role & perms   â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚                                            â”‚
        â–¼                                            â–¼
    SUPER_ADMIN                                  ADMIN
   (ALL 17 PERMS)                           (15 PERMS)
        â”‚                                       â”‚
        â”œâ”€ view_users âœ…                        â”œâ”€ view_users âœ…
        â”œâ”€ create_user âœ…                       â”œâ”€ create_user âœ…
        â”œâ”€ edit_user âœ…                         â”œâ”€ edit_user âœ…
        â”œâ”€ delete_user âœ…                       â”œâ”€ delete_user âœ…
        â”œâ”€ view_admins âœ…                       â”œâ”€ view_admins âœ…
        â”œâ”€ create_admin âœ…                      â”œâ”€ create_admin âœ…
        â”œâ”€ edit_admin âœ…                        â”œâ”€ edit_admin âœ…
        â”œâ”€ delete_admin âœ…                      â”œâ”€ delete_admin âœ…
        â”œâ”€ view_subscriptions âœ…                â”œâ”€ view_subscriptions âœ…
        â”œâ”€ manage_subscriptions âœ…              â”œâ”€ manage_subscriptions âœ…
        â”œâ”€ manage_payments âœ…                   â”œâ”€ manage_payments âœ…
        â”œâ”€ view_tools âœ…                        â”œâ”€ view_tools âœ…
        â”œâ”€ manage_tools âœ…                      â”œâ”€ manage_tools âœ…
        â”œâ”€ view_analytics âœ…                    â”œâ”€ view_analytics âœ…
        â”œâ”€ manage_settings âœ…                   â”œâ”€ manage_settings âœ…
        â”œâ”€ view_logs âœ…                         â”œâ”€ view_logs âœ…
        â””â”€ manage_roles âœ…                      â””â”€ manage_roles âŒ
        
        MODERATOR
        (6 PERMS)
        â”‚
        â”œâ”€ view_users âœ…
        â”œâ”€ edit_user âœ… (limited)
        â”œâ”€ view_admins âœ…
        â”œâ”€ view_subscriptions âœ…
        â”œâ”€ view_tools âœ…
        â””â”€ view_analytics âœ…

                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚ Check Permission â”‚
                    â”‚ For action?      â”‚
                    â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜
                         â”‚        â”‚
                    NO â—€â”€â”˜        â””â”€â–¶ YES
                         â”‚        â”‚
                         â–¼        â–¼
                    âŒ 403       âœ… ALLOW
                    FORBIDDEN   ACTION
```

---

## Data Flow - User Management Example

```
ADMIN EDITS USER
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Click Edit Button      â”‚
â”‚ on User Row            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Modal Opens with User Data   â”‚
â”‚ â€¢ name                       â”‚
â”‚ â€¢ email                      â”‚
â”‚ â€¢ subscription               â”‚
â”‚ â€¢ last login                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Admin modifies fields        â”‚
â”‚ â€¢ Update name                â”‚
â”‚ â€¢ Change subscription        â”‚
â”‚ â€¢ Add notes                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Click Save Button            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ PUT /api/admin/users                   â”‚
â”‚ â”œâ”€ userId: ObjectId                    â”‚
â”‚ â”œâ”€ updates: {name, subscription, ...}  â”‚
â”‚ â””â”€ token: JWT from cookies             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Middleware verifyAdmin()                â”‚
â”‚ â”œâ”€ Extract token                       â”‚
â”‚ â”œâ”€ Verify JWT signature                â”‚
â”‚ â”œâ”€ Find admin in DB                    â”‚
â”‚ â”œâ”€ Check isActive                      â”‚
â”‚ â””â”€ Verify edit_user permission         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Update Logic:                          â”‚
â”‚ â”œâ”€ Find user in DB                     â”‚
â”‚ â”œâ”€ Verify user exists                  â”‚
â”‚ â”œâ”€ Prevent email change (security)     â”‚
â”‚ â”œâ”€ Add updatedAt timestamp             â”‚
â”‚ â”œâ”€ Add updatedBy admin ID              â”‚
â”‚ â””â”€ Execute update query                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Audit Logging:                         â”‚
â”‚ â”œâ”€ Record admin action                 â”‚
â”‚ â”œâ”€ Log what changed                    â”‚
â”‚ â”œâ”€ Capture timestamp                   â”‚
â”‚ â”œâ”€ Record IP address                   â”‚
â”‚ â””â”€ Store in audit_logs collection      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Return Response:                       â”‚
â”‚ â”œâ”€ Status: 200 OK                      â”‚
â”‚ â”œâ”€ Message: "User updated"             â”‚
â”‚ â””â”€ Additional data                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ UI Updates:                            â”‚
â”‚ â”œâ”€ Show success toast                  â”‚
â”‚ â”œâ”€ Reload user data                    â”‚
â”‚ â”œâ”€ Update table row                    â”‚
â”‚ â”œâ”€ Close modal                         â”‚
â”‚ â””â”€ Display updated info                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       SUCCESS âœ…
```

---

## Database Collections Structure

```
MongoDB Database: readypips
â”‚
â”œâ”€ admins
â”‚  â”œâ”€ _id: ObjectId
â”‚  â”œâ”€ email: String (unique)
â”‚  â”œâ”€ password: String (bcrypt)
â”‚  â”œâ”€ firstName: String
â”‚  â”œâ”€ lastName: String
â”‚  â”œâ”€ role: Enum
â”‚  â”œâ”€ permissions: Array
â”‚  â”œâ”€ isActive: Boolean
â”‚  â”œâ”€ lastLogin: Date
â”‚  â”œâ”€ createdAt: Date
â”‚  â”œâ”€ updatedAt: Date
â”‚  â””â”€ createdBy: ObjectId
â”‚
â”œâ”€ users
â”‚  â”œâ”€ _id: ObjectId
â”‚  â”œâ”€ email: String (unique)
â”‚  â”œâ”€ firstName: String
â”‚  â”œâ”€ lastName: String
â”‚  â”œâ”€ subscription: Object
â”‚  â”œâ”€ lastLogin: Date
â”‚  â”œâ”€ isActive: Boolean
â”‚  â”œâ”€ createdAt: Date
â”‚  â”œâ”€ updatedAt: Date
â”‚  â””â”€ (more fields)
â”‚
â”œâ”€ subscriptions
â”‚  â”œâ”€ _id: ObjectId
â”‚  â”œâ”€ userId: ObjectId
â”‚  â”œâ”€ planName: String
â”‚  â”œâ”€ status: Enum
â”‚  â”œâ”€ startDate: Date
â”‚  â”œâ”€ expiryDate: Date
â”‚  â”œâ”€ paymentMethod: String
â”‚  â”œâ”€ amount: Number
â”‚  â”œâ”€ createdAt: Date
â”‚  â””â”€ (more fields)
â”‚
â”œâ”€ tools
â”‚  â”œâ”€ _id: ObjectId
â”‚  â”œâ”€ name: String
â”‚  â”œâ”€ description: String
â”‚  â”œâ”€ category: String
â”‚  â”œâ”€ version: String
â”‚  â”œâ”€ enabled: Boolean
â”‚  â”œâ”€ userCount: Number
â”‚  â”œâ”€ popularity: Number
â”‚  â”œâ”€ createdAt: Date
â”‚  â””â”€ (more fields)
â”‚
â”œâ”€ announcements
â”‚  â”œâ”€ _id: ObjectId
â”‚  â”œâ”€ title: String
â”‚  â”œâ”€ content: String
â”‚  â”œâ”€ type: String
â”‚  â”œâ”€ status: String
â”‚  â”œâ”€ createdAt: Date
â”‚  â””â”€ (more fields)
â”‚
â”œâ”€ email_campaigns
â”‚  â”œâ”€ _id: ObjectId
â”‚  â”œâ”€ subject: String
â”‚  â”œâ”€ content: String
â”‚  â”œâ”€ sentCount: Number
â”‚  â”œâ”€ failedCount: Number
â”‚  â”œâ”€ status: String
â”‚  â””â”€ (more fields)
â”‚
â”œâ”€ admin_audit_logs
â”‚  â”œâ”€ _id: ObjectId
â”‚  â”œâ”€ adminId: ObjectId
â”‚  â”œâ”€ action: String
â”‚  â”œâ”€ details: Object
â”‚  â”œâ”€ ipAddress: String
â”‚  â”œâ”€ userAgent: String
â”‚  â””â”€ createdAt: Date
â”‚
â””â”€ password_reset_tokens
   â”œâ”€ _id: ObjectId
   â”œâ”€ email: String
   â”œâ”€ token: String (JWT)
   â”œâ”€ type: Enum
   â”œâ”€ expiresAt: Date
   â””â”€ createdAt: Date
```

---

**Architecture Diagram Complete** âœ…

Generated: October 17, 2025  
System: ReadyPips Admin Dashboard v1.0
Status: ğŸŸ¢ PRODUCTION READY
